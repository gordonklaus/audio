TODO

- type switch
- select
- slice
- builtins:  cap, complex, copy, imag, new, panic, real, recover
- go, defer
- len and capacity inputs for make, len and max input for slice, ok output for type assert (also mapget and chanrecv?), 1st input for XOR (^) (also plus, minus?) are optional, creatable by Comma key, deletable
- don't include sequencing ports in normal keyboard navigation.  access them by special keystrokes (Command-{Semicolon, Quote}?).  (update focusNearestView to ignore sequencing ports, too)
- shortcuts:
  - on an input, press '{' to create a composite literal of the port's type
  - on a pointer output, press '=' to create an assignment node
  - on a node or connection, press cmd-R(cmd-I?) to bring up a browser with funcs and ops suitable to insert, i.e., having a signature compatible with the existing node's connections
- auto pan when key focus changes
- remove localVar
- rework typeView appearance
- add in-place operators (+=, etc) that take a pointer as the first arg.
- give assignment node and in-place operators an output, for easier sequencing.
- use graphics instead of text to identify pointers, slices, funcs, maps, etc in typeView
- use different symbols for some operators (=, ≠, ≤, ≥, and, or, etc.)
- blinking cursor in gui.Text
- make gui.Text change its appearance based on content when a validator is present.  give validator 3 states:  Acceptable, Intermediate, Invalid.
- consider not lumping sequencing ports and connections in with the normal ones.  they can be annoying.  don't forget to consider them in the topological sorting order.
- one-off local functions
- case-insensitive sorting in browser?  currently, all lowercase names follow all upper case.  also, don't sort operators?
- use go/parser and go/ast to validate basic literals
- dimly highlight connected ports when a port is focused (or only when a key, e.g. Shift, is pressed) (but always for wireless conns)
- don't automatically discard dead code (unconnected literals, unassigned index expressions, unconnected append(), ...); write them instead as assigment to the blank identifier.  add a command to remove dead code at the user's discretion.
- make connectionBundles to reduce wire clutter?  each port has at most one connectionBundle that branches off connections near each port it connects to.  or don't add a new object, just draw connections coincident that originate at the same port.  especially bundle coincident connections that cross block boundaries.
- condition blocks for if, &&, ||
- consider drawing nodes as circles/ellipses.  this is the easiest way to treat them when arranging, and it might even be visually ok.  loopNode will work fine, as its loopblk can be drawn as a circle; but ifNode, switchNode, and selectNode will be harder, having multiple blocks.
- in browser, by default don't show non-Go dirs (and don't show non-Flux dirs in fluxSourceOnly mode); show them when Shift is pressed
- prefix names with pkg name in browser and typeView
- manage code flux:  names, signatures, types, etc.
  - update objects currently being edited
  - update known clients upon change (e.g., update callers when func sig changes)
  - handle changes during import and read.  (strip all func bodies in importer)
- handle funcs with an unconnected input whose type must be named to make a zero value (i.e., is ArrayType or StructType):  import package or, if it is an unexported type, complain and don't write files.
- stabilize file format so that textual diffs only show relevant changes:
  - order of imports (alphabetical).
  - node order? pro: deterministic build, stable files; con: hides bugs
  - variable names (also seqIDs)
- color conns by type.  hash type name, interpret as color.  or, use multiple colors to describe the whole type tree (outlined, woven, etc).
- improve valueView editing; currently, name and type can't be edited separately.  solution:  allow to focus name text.
- find a better way to embed font (current using something like https://github.com/jteeuwen/go-bindata, https://groups.google.com/forum/#!msg/golang-nuts/UOIUyn7uFsY/Uescy-cI7hQJ) (best to wait for this https://code.google.com/p/go/issues/detail?id=3035).  Or consider installing it in a fixed location (OS X: in app bundle.  Linux: in /usr/share?  Windows: in application directory?)  Also check the go src directory in case someone has go-gotten flux?
- handle constant expressions:
  - write result to constant (not variable), or type may not propagate correctly
  - a node in a const expr should be collapsable to its value; in particular, this will be nice in typeView for array length
- multiple panes for editing multiple funcs, types, etc.  panes arranged as Voronoi diagram, each pane with a center point and a relative size

before releasing:
- handle all errors
  - including reader.go parsing errors?
- documentation
- tutorial


Benefits over Go:
- no need to name local variables
- same syntax for operators and function calls
- no problem closing over range loop value (index is still trouble, but that can be fixed by automatically inserting i := i)


LINKS
http://martinfowler.com/bliki/ProjectionalEditing.html
http://concrete-editor.org/#documentation
http://audicle.cs.princeton.edu/
http://sbel.wisc.edu/Courses/ME964/Literature/knuthProgramming1974.pdf
Leslie Lamport:
 - PHIL: A Semantic Structural Graphical Editor  (with Joseph Goguen); SRI International Technical Report (August 1983).  No electronic version available.   http://research.microsoft.com/en-us/um/people/lamport/pubs/pubs.html#phil
 - Document Production: Visual or Logical?  Notices of the American Mathematical Society (June 1987), 621-624.  http://research.microsoft.com/en-us/um/people/lamport/pubs/document-production.pdf
